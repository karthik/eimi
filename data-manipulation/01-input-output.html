<h1>Input output operations</h1>

<h2>Inputting data</h2>

<pre><code class="r">x &lt;- scan(&quot;data_file.txt&quot;)
# add a separator
x &lt;- scan(&quot;data/messy_data.txt&quot;, what=&quot; &quot;, sep = &quot;\n&quot;)
# or read data from the console
x &lt;- scan()
# keep entering values and hit an empty return key to end
</code></pre>

<p>Reading single lines (e.g. user input)</p>

<pre><code class="r">variable &lt;- readline()
# or provide more information
variable &lt;- readline(&quot;Enter number of simulations: &quot;)
</code></pre>

<h2>Reading files</h2>

<p>Most plain text files can be read with <code>read.table</code> or variants thereof (such as <code>read.csv</code>).</p>

<pre><code class="r">df &lt;- read.table(&quot;data.dat&quot;, header = TRUE)
</code></pre>

<p>or using <code>readLines</code></p>

<pre><code class="r">dt &lt;- readLines(&quot;data/messy_data.txt&quot;)
head(dt)
</code></pre>

<pre><code>## [1] &quot;J. Pritchard    01/12 - 12/11  1 1500 W  7.0 420 48  Migratory 3&quot;
## [2] &quot;E. Jones  02/18 - 04/21  4 1293 N  8.0 490 48  Resident 1&quot;       
## [3] &quot;J. Pritchard   01/13 - 02/17   15 1028 N  4.0 46  460 Migratory&quot; 
## [4] &quot;Matt Jones   09/23 - 11/23  23 563 N   3.0 470 47  Resident 2&quot;   
## [5] &quot;S. Chamberlain 07/05 - 09/26 22  713 N   5.2 500 45  Resident 4&quot; 
## [6] &quot;C. Boettiger 10/24 - 10/30   1495 S 30 1.9 47  410 Migratory&quot;
</code></pre>

<h2>Files from the web</h2>

<pre><code class="r">url &lt;- &quot;data/climate.csv&quot;
my_data &lt;- read.csv(url, header = TRUE)
head(my_data)
</code></pre>

<pre><code>##     X   Source Year Anomaly1y Anomaly5y Anomaly10y Unc10y
## 1 102 Berkeley 1901        NA        NA     -0.162  0.109
## 2 103 Berkeley 1902        NA        NA     -0.177  0.108
## 3 104 Berkeley 1903        NA        NA     -0.199  0.104
## 4 105 Berkeley 1904        NA        NA     -0.223  0.105
## 5 106 Berkeley 1905        NA        NA     -0.241  0.107
## 6 107 Berkeley 1906        NA        NA     -0.294  0.106
</code></pre>

<h2>Local file operations</h2>

<p>One can list files from any local source as well.</p>

<pre><code class="r">list.files()
file.info()
dir()
file.exists()
getwd()
setwd()
</code></pre>

<hr/>

<h2>Writing files</h2>

<p>Saving files is easy in R. Load the <code>iris</code> dataset by running <code>data(iris)</code>. Can you save this back to a <code>csv</code> file to disk with the name <code>tgac_iris.csv</code>?</p>

<p>What commands did you use?</p>

<h1>Short term storage</h1>

<pre><code class="r">saveRDS(iris, file = &quot;my_iris.rds&quot;)
iris_data &lt;- readRDS(&quot;my_iris.rds&quot;)
unlink(&quot;my_iris.rds&quot;)
</code></pre>

<p>This is great for short term storage. All factors and other modfications to the dataset will be preserved. However, only R can read these data back and not the best option if you want to keep the file stored in the easiest format.</p>

<h1>Long-term storage</h1>

<pre><code class="r">write.csv(iris, file = &quot;my_iris.csv&quot;, row.names = FALSE)
</code></pre>

<h1>Easy to store compressed files to save space:</h1>

<pre><code class="r">write.csv(diamonds, file = bzfile(&quot;diamonds.csv.bz2&quot;),
  row.names = FALSE)
</code></pre>

<h1>Reading is even easier:</h1>

<pre><code class="r">diamonds5 &lt;- read.csv(&quot;diamonds.csv.bz2&quot;)
</code></pre>

<p>Files stored with <code>saveRDS()</code> are automatically compressed.</p>
